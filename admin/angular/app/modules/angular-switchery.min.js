"use strict";angular.module("NgSwitchery",[]).directive("uiSwitch",["$window","$timeout","$log","$parse",function($window,$timeout,$log,$parse){function hex2rgba(hex,opacity){hex=hex.replace("#","");var r=parseInt(hex.substring(0,2),16),g=parseInt(hex.substring(2,4),16),b=parseInt(hex.substring(4,6),16);return"rgba("+r+","+g+","+b+","+opacity/100+")"}function linkSwitchery(scope,elem,attrs,ngModel){function initializeSwitch(init,disabled){$timeout(function(){disabled&&angular.element(switcher.switcher).remove(),init&&(switcher=new $window.Switchery(elem[0],options));var element=switcher.element;element.checked=scope.initValue,switcher.setPosition(!1),element.addEventListener("change",function(evt){scope.$apply(function(){ngModel.$setViewValue(element.checked)})})},0)}if(!ngModel)return!1;var switcher,previousDisabledValue,options={color:attrs.color?hex2rgba(attrs.color,50):hex2rgba("#009688",50),jackColor:attrs.color?hex2rgba(attrs.color,100):hex2rgba("#009688",100),secondaryColor:attrs.secondaryColor?hex2rgba(attrs.secondaryColor,50):"rgba(0, 0, 0,0.26)",jackSecondaryColor:attrs.secondaryColor?hex2rgba(attrs.secondaryColor,100):"#fafafa",className:attrs["class"]};attrs.$observe("disabled",function(value){void 0!=value&&value!=previousDisabledValue&&(previousDisabledValue=value,initializeSwitch(!0,!0))}),initializeSwitch(!0,!1),scope.$watch("initValue",function(newValue,oldValue){initializeSwitch(!1,!1)})}return{require:"ngModel",restrict:"AE",scope:{initValue:"=ngModel"},link:linkSwitchery}}]);